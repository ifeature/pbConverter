{"version":3,"sources":["Controller.js"],"names":[],"mappings":"AAAA;;AAEA,CAAC,YAAW;AACV,MAAI,sBAAJ;MAAgB,oBAAhB,CADU;AAEV,eAAa,OAAO,MAAP,CAAc,IAAd,CAAb,CAFU;;AAIV,aAAW,OAAX,GAAqB,YAAW;AAC9B,QAAI,aAAJ;QAAO,aAAP;QAAU,mBAAV;QAAmB,uBAAnB,CAD8B;AAE9B,eAAW,IAAI,MAAM,UAAN,EAAf,CAF8B;AAG9B,kBAAc,qBAAS,IAAT,EAAe;AAC3B,WAAK,IAAI,KAAK,MAAL,GAAY,CAAZ,EAAe,GAAxB,GAA8B;AAC5B,iBAAS,KAAK,CAAL,EAAQ,GAAR,CAAT,GAAwB,IAAI,MAAM,QAAN,EAA5B,CAD4B;AAE5B,aAAK,CAAL,IAAU,KAAK,CAAL,CAAV,EAAmB;AACjB,cAAI,MAAM,UAAN,IAAoB,MAAM,KAAN,EAAa,SAArC;AACA,mBAAS,KAAK,CAAL,EAAQ,GAAR,CAAT,CAAsB,CAAtB,IAA2B,KAAK,CAAL,EAAQ,CAAR,CAA3B,CAFiB;SAAnB;OAFF;;AAD2B,gBAS3B,CAAW,UAAX,GAT2B;KAAf,CAHgB;AAc9B,cAAU,IAAI,OAAJ,EAAV,CAd8B;AAe9B,YAAQ,OAAR,CAAgB,OAAO,GAAP,CAAW,IAAX,EAAiB,WAAjC,EAf8B;GAAX,CAJX;;AAsBV,aAAW,UAAX,GAAwB,YAAW;AACjC,SAAK,UAAL,CAAgB,QAAhB,EADiC;GAAX,CAtBd;;AA0BV,aAAW,WAAX,GAAyB,YAAW;AAClC,QAAI,sBAAJ;QAAgB,kBAAhB;QAAwB,0BAAxB;QAAwC,2BAAxC;QAAyD,kBAAzD;QAAiE,oBAAjE,CADkC;AAElC,aAAS,EAAT,CAFkC;AAGlC,iBAAa,SAAS,cAAT,CAAwB,YAAxB,CAAb,CAHkC;AAIlC,qBAAiB,SAAS,cAAT,CAAwB,gBAAxB,CAAjB,CAJkC;AAKlC,sBAAkB,SAAS,cAAT,CAAwB,iBAAxB,CAAlB,CALkC;AAMlC,aAAS,OAAO,UAAP,CAAkB,WAAW,KAAX,CAA3B,CANkC;;AAQlC,QAAI,CAAC,MAAD,IAAW,KAAK,GAAL,CAAS,MAAT,MAAqB,MAArB,IAA+B,OAAO,SAAP,GAAmB,MAAnB,EAA2B;AACvE,aAAO,IAAP,CAAY,WAAW,KAAX,CAAZ,CADuE;KAAzE;AAGA,QAAI,CAAC,eAAe,KAAf,EAAsB;AACzB,aAAO,IAAP,CAAY,eAAe,KAAf,CAAZ,CADyB;KAA3B;AAGA,QAAI,CAAC,gBAAgB,KAAhB,EAAuB;AAC1B,aAAO,IAAP,CAAY,gBAAgB,KAAhB,CAAZ,CAD0B;KAA5B;;AAIA,QAAI,OAAO,MAAP,GAAgB,CAAhB,EAAmB;AACrB,iBAAW,IAAI,KAAK,QAAL,CAAc,MAAlB,CAAX,CADqB;AAErB,eAAS,MAAT,GAFqB;AAGrB,eAAS,IAAT,GAHqB;AAIrB,aAJqB;KAAvB;;AAOA,SAAK,aAAL,CAAmB,SAAS,OAAT,CAAiB,MAAjB,EAAyB,eAAe,KAAf,EAAsB,gBAAgB,KAAhB,CAAlE,EAzBkC;GAAX,CA1Bf;;AAsDV,SAAO,UAAP,GAAoB,UAApB,CAtDU;CAAX,CAAD","file":"Controller-compiled.js","sourcesContent":["'use strict';\n\n(function() {\n  let Controller, currency;\n  Controller = Object.create(null);\n\n  Controller.getData = function() {\n    let i, j, service, saveToArray;\n    currency = new Model.Currencies();\n    saveToArray = function(data) {\n      for (i = data.length-1; i--;) {\n        currency[data[i].ccy] = new Model.Currency();\n        for (j in data[i]) {\n          if (j === 'base_ccy' || j === 'ccy') continue;\n          currency[data[i].ccy][j] = data[i][j];\n        }\n      }\n      //console.log(currency);\n      Controller.renderData();\n    };\n    service = new Service();\n    service.getJSON(config.url.json, saveToArray);\n  };\n\n  Controller.renderData = function() {\n    View.initRender(currency);\n  };\n\n  Controller.convertData = function() {\n    let inputValue, amount, changeCurrency, receiveCurrency, fields, errorBox;\n    fields = [];\n    inputValue = document.getElementById('inputValue');\n    changeCurrency = document.getElementById('changeCurrency');\n    receiveCurrency = document.getElementById('receiveCurrency');\n    amount = Number.parseFloat(inputValue.value);\n\n    if (!amount || Math.abs(amount) !== amount || Number.MAX_VALUE < amount) {\n      fields.push(inputValue.title);\n    }\n    if (!changeCurrency.value) {\n      fields.push(changeCurrency.title);\n    }\n    if (!receiveCurrency.value) {\n      fields.push(receiveCurrency.title);\n    }\n\n    if (fields.length > 0) {\n      errorBox = new View.ErrorBox(fields);\n      errorBox.render();\n      errorBox.show();\n      return;\n    }\n\n    View.displayResult(currency.convert(amount, changeCurrency.value, receiveCurrency.value));\n  };\n\n  window.Controller = Controller;\n})();\n"]}