{"version":3,"sources":["Controller.js"],"names":[],"mappings":"AAAA;;AAEA,CAAC,YAAW;AACV,MAAI,UAAJ,EAAgB,QAAhB,CADU;AAEV,eAAa,OAAO,MAAP,CAAc,IAAd,CAAb,CAFU;;AAIV,aAAW,OAAX,GAAqB,YAAW;AAC9B,QAAI,CAAJ,EAAO,CAAP,EAAU,OAAV,EAAmB,WAAnB,CAD8B;AAE9B,eAAW,IAAI,UAAJ,EAAX,CAF8B;AAG9B,kBAAc,UAAS,IAAT,EAAe;AAC3B,WAAK,IAAI,KAAK,MAAL,GAAY,CAAZ,EAAe,GAAxB,GAA8B;AAC5B,iBAAS,KAAK,CAAL,EAAQ,GAAR,CAAT,GAAwB,IAAI,QAAJ,EAAxB,CAD4B;AAE5B,aAAK,CAAL,IAAU,KAAK,CAAL,CAAV,EAAmB;AACjB,cAAI,MAAM,UAAN,IAAoB,MAAM,KAAN,EAAa,SAArC;AACA,mBAAS,KAAK,CAAL,EAAQ,GAAR,CAAT,CAAsB,CAAtB,IAA2B,KAAK,CAAL,EAAQ,CAAR,CAA3B,CAFiB;SAAnB;OAFF;;AAD2B,gBAS3B,CAAW,UAAX,GAT2B;KAAf,CAHgB;AAc9B,cAAU,IAAI,OAAJ,EAAV,CAd8B;AAe9B,YAAQ,OAAR,CAAgB,IAAI,IAAJ,EAAU,WAA1B,EAf8B;GAAX,CAJX;;AAsBV,aAAW,UAAX,GAAwB,YAAW;AACjC,SAAK,UAAL,CAAgB,QAAhB,EADiC;GAAX,CAtBd;;AA0BV,aAAW,WAAX,GAAyB,YAAW;AAClC,QAAI,UAAJ,EAAgB,cAAhB,EAAgC,eAAhC,EAAiD,WAAjD,EAA8D,MAA9D,EAAsE,QAAtE,CADkC;AAElC,aAAS,EAAT,CAFkC;AAGlC,iBAAa,SAAS,cAAT,CAAwB,YAAxB,CAAb,CAHkC;AAIlC,qBAAiB,SAAS,cAAT,CAAwB,gBAAxB,CAAjB,CAJkC;AAKlC,sBAAkB,SAAS,cAAT,CAAwB,iBAAxB,CAAlB,CALkC;AAMlC,kBAAc,SAAS,cAAT,CAAwB,aAAxB,CAAd,CANkC;;AAQlC,QAAI,CAAC,OAAO,QAAP,CAAgB,WAAW,KAAX,CAAjB,EAAoC;AACtC,aAAO,IAAP,CAAY,WAAW,KAAX,CAAZ,CADsC;KAAxC;AAGA,QAAI,CAAC,eAAe,KAAf,EAAsB;AACzB,aAAO,IAAP,CAAY,eAAe,KAAf,CAAZ,CADyB;KAA3B;AAGA,QAAI,CAAC,gBAAgB,KAAhB,EAAuB;AAC1B,aAAO,IAAP,CAAY,gBAAgB,KAAhB,CAAZ,CAD0B;KAA5B;;AAIA,QAAI,OAAO,MAAP,GAAgB,CAAhB,EAAmB;AACrB,iBAAW,IAAI,KAAK,QAAL,CAAc,MAAlB,CAAX;;AADqB,cAGrB,CAAS,MAAT,GAHqB;AAIrB,eAAS,IAAT,GAJqB;AAKrB,aALqB;KAAvB;;AAQA,gBAAY,KAAZ,GAAoB,SAAS,OAAT,CAAiB,OAAO,QAAP,CAAgB,WAAW,KAAX,CAAjC,EAAoD,eAAe,KAAf,EAAsB,gBAAgB,KAAhB,CAA9F,CA1BkC;GAAX,CA1Bf;;AAuDV,SAAO,UAAP,GAAoB,UAApB,CAvDU;CAAX,CAAD","file":"Controller-compiled.js","sourcesContent":["'use strict';\n\n(function() {\n  let Controller, currency;\n  Controller = Object.create(null);\n\n  Controller.getData = function() {\n    let i, j, service, saveToArray;\n    currency = new Currencies();\n    saveToArray = function(data) {\n      for (i = data.length-1; i--;) {\n        currency[data[i].ccy] = new Currency();\n        for (j in data[i]) {\n          if (j === 'base_ccy' || j === 'ccy') continue;\n          currency[data[i].ccy][j] = data[i][j];\n        }\n      }\n      //console.log(currency);\n      Controller.renderData();\n    };\n    service = new Service();\n    service.getJSON(URL.json, saveToArray);\n  };\n\n  Controller.renderData = function() {\n    View.initRender(currency);\n  };\n\n  Controller.convertData = function() {\n    let inputValue, changeCurrency, receiveCurrency, resultValue, fields, errorBox;\n    fields = [];\n    inputValue = document.getElementById('inputValue');\n    changeCurrency = document.getElementById('changeCurrency');\n    receiveCurrency = document.getElementById('receiveCurrency');\n    resultValue = document.getElementById('resultValue');\n\n    if (!Number.parseInt(inputValue.value)) {\n      fields.push(inputValue.title);\n    }\n    if (!changeCurrency.value) {\n      fields.push(changeCurrency.title);\n    }\n    if (!receiveCurrency.value) {\n      fields.push(receiveCurrency.title);\n    }\n\n    if (fields.length > 0) {\n      errorBox = new View.ErrorBox(fields);\n      //console.log(errorBox);\n      errorBox.render();\n      errorBox.show();\n      return;\n    }\n\n    resultValue.value = currency.convert(Number.parseInt(inputValue.value), changeCurrency.value, receiveCurrency.value);\n  };\n\n  window.Controller = Controller;\n})();\n"]}