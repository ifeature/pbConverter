{"version":3,"sources":["View.js"],"names":[],"mappings":"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","file":"View-compiled.js","sourcesContent":["'use strict';\n\n(function() {\n  let View, fillOptions, bindingSelect, errorBoxTemplate;\n  View = Object.create(null);\n\n  class ErrorBox {\n    constructor(invalidFields) {\n      this._invaldFields = invalidFields;\n      this._template = errorBoxTemplate;\n    }\n    render() {\n      let container, errorBox, errorBoxList, errorItem, errorItemField;\n      container = document.getElementById('pbConverter').parentElement;\n      errorBox = this._template.firstElementChild.cloneNode(true);\n      errorBoxList = errorBox.querySelector('.collection');\n\n      while(errorBoxList.childElementCount > 0) {\n        errorBoxList.removeChild(errorBoxList.children[errorBoxList.childElementCount-1])\n      }\n\n      this._invaldFields.forEach(function(field) {\n        errorItem = this._template.getElementById('errorBoxItem').content.cloneNode(true);\n        errorItemField = errorItem.querySelector('.errorField');\n        errorItemField.innerText = field;\n        errorBoxList.appendChild(errorItem);\n      }, this);\n\n      while (container.childElementCount > 1) {\n        container.removeChild(container.children[container.childElementCount-1]);\n      }\n\n      container.appendChild(errorBox);\n      //console.log(errorBox);\n    }\n    show() {\n      $('#modal1').openModal();\n    }\n    hide() {\n      $('#modal1').closeModal();\n    }\n  }\n\n  View.initRender = function(currency) {\n    let importFile, templates, templatesObj, pbConverter;\n\n    fillOptions = function(select, initialSelect, excludeOption) {\n      let key, option, selectValue, initialSelectValue;\n      const SYMBOL = {\n        'UAH': 'Украинская гривна',\n        'USD': 'Американский доллар',\n        'RUR': 'Российский рубль',\n        'EUR': 'Евро'\n      };\n      if (initialSelect) {\n        selectValue = select.value;\n        initialSelectValue = initialSelect.value;\n      }\n\n      while (select.length > 0) {\n        select.remove(select.length-1);\n      }\n\n      if (!excludeOption || excludeOption !== 'UAH') {\n        option = new Option('Выберите валюту', '', true, true);\n        option.disabled = true;\n        select.add(option);\n        option = new Option(SYMBOL.UAH, 'UAH');\n        select.add(option);\n      }\n\n      for (key in currency) {\n        if (key === excludeOption) continue;\n        option = new Option(SYMBOL[key], key);\n        select.add(option);\n      }\n      if (initialSelect) {\n        select.value = selectValue;\n      }\n    };\n\n    bindingSelect = function(evt) {\n      let currentTarget, selectIDs, selectedIDx;\n      selectIDs = ['changeCurrency', 'receiveCurrency'];\n      currentTarget = evt.currentTarget;\n      selectedIDx = selectIDs.indexOf(currentTarget.id);\n      switch (selectedIDx) {\n        case 0:\n          fillOptions(document.getElementById(selectIDs[1]), document.getElementById(selectIDs[0]), currentTarget.value);\n          break;\n        case 1:\n          fillOptions(document.getElementById(selectIDs[0]), document.getElementById(selectIDs[0]), currentTarget.value);\n          break;\n        default:\n          break;\n      }\n      $('select').material_select();\n    };\n\n\n    pbConverter = document.getElementById('pbConverter');\n\n    templatesObj = Object.create(null);\n    importFile = document.head.querySelector('link[rel=\"import\"]').import;\n    templates = Array.from(importFile.getElementsByTagName('template'));\n    templates.forEach(function(template) {\n      templatesObj[template.id] = template.content.cloneNode(true);\n    });\n    errorBoxTemplate = templatesObj['errorBox'];\n    fillOptions(templatesObj['changeCurrencyTemplate'].getElementById('changeCurrency'));\n    fillOptions(templatesObj['receiveCurrencyTemplate'].getElementById('receiveCurrency'));\n\n    pbConverter.appendChild(templatesObj['changeCurrencyTemplate']);\n    pbConverter.appendChild(templatesObj['receiveCurrencyTemplate']);\n    pbConverter.appendChild(templatesObj['controlsTemplate']);\n\n    $('select').material_select();\n    $('select').on('change', bindingSelect);\n\n    document.getElementById('changeButton').addEventListener('click', Controller.convertData); //???????????????\n  };\n\n  View.displayResult = function(result) {\n    let resultValue;\n    resultValue = document.getElementById('resultValue');\n    resultValue.value = result;\n  };\n\n  window.View = View;\n  window.View.ErrorBox = ErrorBox;\n})();\n"]}