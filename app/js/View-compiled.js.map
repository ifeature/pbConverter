{"version":3,"sources":["View.js"],"names":[],"mappings":"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","file":"View-compiled.js","sourcesContent":["'use strict';\n\ndefine([], function () {\n  const View = Object.create(null);\n\n  function templateHandler() {\n    const templatesObj = Object.create(null);\n    const importFile = document.head.querySelector('link[rel=\"import\"]').import;\n    const templates = Array.from(importFile.getElementsByTagName('template'));\n\n    templates.forEach((template) => {\n      templatesObj[template.id] = template.content.cloneNode(true);\n    });\n\n    return templatesObj;\n  }\n\n  class ErrorBox {\n    constructor(invalidFields) {\n      this._invaldFields = invalidFields;\n      this._template = templateHandler().errorBox;\n    }\n\n    render() {\n      const container = document.getElementById('pbConverter').parentElement;\n      const errorBox = this._template.firstElementChild.cloneNode(true);\n      const errorBoxList = errorBox.querySelector('.collection');\n\n      while (errorBoxList.childElementCount > 0) {\n        errorBoxList.removeChild(errorBoxList.children[errorBoxList.childElementCount - 1]);\n      }\n\n      this._invaldFields.forEach((field) => {\n        const errorItem = this._template.getElementById('errorBoxItem').content.cloneNode(true);\n        const errorItemField = errorItem.querySelector('.errorField');\n        const errorItemType = errorItem.querySelector('.errorType');\n\n        if (field.message) {\n          errorItemField.innerText = field.message;\n          errorItemType.innerText = '';\n        } else {\n          errorItemField.innerText = field;\n          errorItemType.innerText = 'Неверно заполнено поле: ';\n        }\n\n        errorBoxList.appendChild(errorItem);\n      });\n\n      while (container.childElementCount > 1) {\n        container.removeChild(container.children[container.childElementCount - 1]);\n      }\n\n      container.appendChild(errorBox);\n    }\n    static show() {\n      $('#modal1').openModal();\n    }\n    static hide() {\n      $('#modal1').closeModal();\n    }\n  }\n\n  View.initRender = function (currency) {\n    function fillOptions(select, initialSelect, excludeOption) {\n      let key;\n      let option;\n      let selectValue;\n      const SYMBOL = {\n        UAH: 'Украинская гривна',\n        USD: 'Американский доллар',\n        RUR: 'Российский рубль',\n        EUR: 'Евро'\n      };\n      if (initialSelect) {\n        selectValue = select.value;\n        const initialSelectValue = initialSelect.value;\n      }\n\n      while (select.length > 0) {\n        select.remove(select.length - 1);\n      }\n\n      if (!excludeOption || excludeOption !== 'UAH') {\n        option = new Option('Выберите валюту', '', true, true);\n        option.disabled = true;\n        select.add(option);\n        option = new Option(SYMBOL.UAH, 'UAH');\n        select.add(option);\n      }\n\n      for (key in currency) {\n        if (key === excludeOption) continue;\n        option = new Option(SYMBOL[key], key);\n        select.add(option);\n      }\n\n      if (initialSelect) {\n        select.value = selectValue;\n      }\n    }\n\n    const bindingSelect = function (evt) {\n      const selectIDs = ['changeCurrency', 'receiveCurrency'];\n      const currentTarget = evt.currentTarget;\n      const selectedIDx = selectIDs.indexOf(currentTarget.id);\n\n      switch (selectedIDx) {\n        case 0:\n          fillOptions(document.getElementById(selectIDs[1]),\n            document.getElementById(selectIDs[0]),\n            currentTarget.value);\n          break;\n        case 1:\n          fillOptions(document.getElementById(selectIDs[0]),\n            document.getElementById(selectIDs[1]),\n            currentTarget.value);\n          break;\n        default:\n          break;\n      }\n      $('select').material_select();\n    };\n\n    const pbConverter = document.getElementById('pbConverter');\n    const templatesObj = templateHandler();\n\n    fillOptions(templatesObj.changeCurrencyTemplate.getElementById('changeCurrency'));\n    fillOptions(templatesObj.receiveCurrencyTemplate.getElementById('receiveCurrency'));\n\n    pbConverter.appendChild(templatesObj.changeCurrencyTemplate);\n    pbConverter.appendChild(templatesObj.receiveCurrencyTemplate);\n    pbConverter.appendChild(templatesObj.controlsTemplate);\n\n    $('select').material_select();\n    $('select').on('change', bindingSelect);\n\n    document.getElementById('changeButton').addEventListener('click', Controller.convertData);\n  };\n\n  View.displayResult = (result) => {\n    const resultValue = document.getElementById('resultValue');\n    resultValue.value = result;\n  };\n\n  View.ErrorBox = ErrorBox;\n  return View;\n});\n"]}